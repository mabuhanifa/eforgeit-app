# Aggregation & Grouping

Aggregate functions perform a calculation on a set of values and return a single value. They are often used with the `GROUP BY` clause.

### Aggregate Functions

Common aggregate functions include:

- `COUNT()`: Counts the number of rows.
- `SUM()`: Calculates the sum of values.
- `AVG()`: Calculates the average of values.
- `MAX()`: Returns the maximum value.
- `MIN()`: Returns the minimum value.

```sql
-- Count the total number of employees
SELECT COUNT(*) FROM employees;

-- Find the average salary
SELECT AVG(salary) FROM employees;
```

### GROUP BY

The `GROUP BY` statement groups rows that have the same values in specified columns into summary rows. It is often used with aggregate functions to group the result-set by one or more columns.

```sql
-- Count the number of employees in each department
SELECT
    department_id,
    COUNT(employee_id) AS number_of_employees
FROM employees
GROUP BY department_id;
```

### Filtering Groups with HAVING

The `HAVING` clause was added to SQL because the `WHERE` keyword cannot be used with aggregate functions. `HAVING` is used to filter groups based on a condition.

```sql
-- Find departments with more than 10 employees
SELECT
    department_id,
    COUNT(employee_id) AS number_of_employees
FROM employees
GROUP BY department_id
HAVING COUNT(employee_id) > 10;
```
